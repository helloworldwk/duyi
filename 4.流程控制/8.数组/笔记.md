# 数组

数组用于存放多个数据

## 创建一个数组

1. new Array(长度)

    长度，数组里面的数据总数，长度一定是一个非负整数

```js
var arr = new Array(20); // 创建一个长度为20的数组
console.log(arr); // [empty × 20]

var arr = new Array(1, 5, 354, 234, 12); // 创建一个数组，并初始化其每一项的值
console.log(arr);
```

2. [数据, 数据, 数据, ...]

    创建一个数据，并初始化其每一项的值

## 数组的本质

- length属性：数组的长度，会自动变化，为最大长度+1
- 数字字符串属性：叫做下标，也叫做索引，相当于数组中每个数据的编号，下标从0开始排列

```js
  var arr = [3, 6, 23, 4];
  arr[0] = 10;
  arr["0"] = 5;
  console.log(arr[0], arr["0"]); // 5 5
```

  连续下标的取值范围：0 ~ length - 1，如果给length直接赋值，会导致数组可能被截断。实际开发中，不要给length赋值。

## 下标

通常情况下，下标是连续的。

下标不连续的数组，叫做**稀松数组**。

## 数组的常见操作

### 添加数组项

1. ``` 数组[长度] = 数据; ```    向数组末尾添加一个数据。
2. ``` 数组.push(数据); ```      向数组末尾添加一个数据。
3. ``` 数组.unshift(数据); ```   向数组起始位置添加一个数据，会导致数组每一项的下标向后移动。
4. ``` 数组.splice(下标, 0, 添加的数据); ```   从指定下标位置开始，删除0项，然后在该位置插入添加的数据，如果下标超过范围，则按照范围的边界进行处理。

> push、unshift、splice都可以添加多个数据。

### 删除数据

1. ``` delete 数组[下标]; ```   这种做法不会导致数组其他的属性发生变化，因此，该做法会导致稀松数组，所以不推荐使用该做法。
2. ``` 数组.pop(); ```   删除数组的最后一项，该表达式返回最后一项的数据。
3. ``` 数组.shift(); ```   删除数组第一项，该表达式返回数组第一项的数据。
4. ``` 数组.splice(下标, 删除的数量, 添加的数据); ```    从指定下标位置开始，删除指定数量，然后在该位置插入添加的数据，如果下标超过范围，则按照范围的边界进行处理。

### 其他操作

- ``` 数组.slice([起始位置下标, 结束位置下标)); ```   从起始位置到结束位置之间的数据拿出来，得到一个新的数据，该函数不会改变原数组。**结束下标取不到**

    > - 下标可以写负数，如果是负数，则从数组的末尾开始计算。
    > - 如果不写结束下标（或者结束下标 >= 数组长度），则直接取到末尾。

- 数组清空

    1. ``` 数组.splice(0, 数组.length); ```
    2. ``` 数组.length = 0; ```

- 查找数组中某一项的下标

    1. ``` 数组.indexOf(数据); ``` 从数组中依次查找对应的数据，查找时使用严格相等进行比较。找到第一个匹配的下标，返回。如果没有找到，则返回-1。
    2. ``` 数组.lastIndexOf(数据); ``` 功能和indexOf类似，只是查找的是最后一个匹配的下标。

- 填充

    1. ``` 数组.fill(数据); ```   将数组的所有项，填充为指定的数据。
    2. ``` 数组.fill(数据, 开始下标); ```   将数组从开始下标起，到数组的末尾，填充为指定的数据。 
    3. ``` 数组.fill(数据, 开始下标, 结束下标); ```   将数组从开始下标起，到数组的结束下标，填充为指定的数据。 **结束下标取不到**

- 将数组的每一项进行拼接

    1. 循环拼接
    2. ``` 数组.join(分隔符); ``` 该函数返回一个字符串。
    3. ``` 数组1.concat(数组2); ``` 将数组2的所有元素 拼接到 数组1 的末尾，产生一个新数组返回，该表达式不会对原数组产生影响。


## 语法补充

### in关键字

``` 属性名 in 对象; ``` 判断某个数据在对象中是否存在。

### for-in循环

```js
  for (var prop in 对象) {
    // 循环体
  }
```

取出对象的所以属性名，每次循环将其中一个属性名赋值给变量prop，运行循环体。

### for循环和for-in循环，遍历数组的区别

  遍历稀松数组时的区别
  
  ```js
    var arr = new Array();
    arr[1] = "abc";
    arr[3] = "bcd";
    arr[5] = "adc";
    console.log(arr);
    // [empty, "abc", empty, "bcd", empty, "adc"]

    for (var index in arr) {
      console.log(arr[index]);
      // "abc"
      // "bcd"
      // "adc"
    }

    for (var i = 0; i < arr.length; i++) {
      console.log(arr[i]);
      // undefined
      // "abc"
      // undefined
      // "bcd"
      // undefined
      // "adc"
    }
  ```